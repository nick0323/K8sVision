# K8sVision

ä¸€ä¸ªç°ä»£åŒ–çš„ Kubernetes é›†ç¾¤ç®¡ç†å¹³å°ï¼Œæä¾›ç›´è§‚çš„ Web ç•Œé¢æ¥ç®¡ç†å’Œç›‘æ§ Kubernetes èµ„æºã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ“Š é›†ç¾¤æ¦‚è§ˆ
- å®æ—¶é›†ç¾¤çŠ¶æ€ç›‘æ§
- èµ„æºä½¿ç”¨æƒ…å†µç»Ÿè®¡
- èŠ‚ç‚¹å¥åº·çŠ¶æ€æ£€æŸ¥

### ğŸ”§ å·¥ä½œè´Ÿè½½ç®¡ç†
- **Pod**: å®¹å™¨å®ä¾‹ç®¡ç†ï¼Œæ”¯æŒçŠ¶æ€ç›‘æ§å’Œæ—¥å¿—æŸ¥çœ‹
- **Deployment**: åº”ç”¨éƒ¨ç½²ç®¡ç†ï¼Œæ”¯æŒæ»šåŠ¨æ›´æ–°
- **StatefulSet**: æœ‰çŠ¶æ€åº”ç”¨ç®¡ç†
- **DaemonSet**: å®ˆæŠ¤è¿›ç¨‹ç®¡ç†
- **Job**: æ‰¹å¤„ç†ä»»åŠ¡ç®¡ç†
- **CronJob**: å®šæ—¶ä»»åŠ¡ç®¡ç†

### ğŸŒ ç½‘ç»œç®¡ç†
- **Service**: æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡
- **Ingress**: å¤–éƒ¨è®¿é—®è·¯ç”±ç®¡ç†

### ğŸ’¾ å­˜å‚¨ç®¡ç†
- **PVC**: æŒä¹…å·å£°æ˜ç®¡ç†
- **PV**: æŒä¹…å·ç®¡ç†
- **StorageClass**: å­˜å‚¨ç±»ç®¡ç†

### âš™ï¸ é…ç½®ç®¡ç†
- **ConfigMap**: é…ç½®æ•°æ®ç®¡ç†
- **Secret**: æ•æ„Ÿä¿¡æ¯ç®¡ç†

### ğŸ·ï¸ é›†ç¾¤ç®¡ç†
- **Namespace**: å‘½åç©ºé—´ç®¡ç†
- **Node**: èŠ‚ç‚¹ç®¡ç†
- **Event**: äº‹ä»¶ç›‘æ§

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
- **Go 1.24.4**: ä¸»è¦ç¼–ç¨‹è¯­è¨€
- **Gin**: Web æ¡†æ¶
- **Kubernetes Client-go**: K8s API å®¢æˆ·ç«¯
- **JWT**: èº«ä»½è®¤è¯
- **Zap**: ç»“æ„åŒ–æ—¥å¿—
- **Viper**: é…ç½®ç®¡ç†
- **Swagger**: API æ–‡æ¡£

### å‰ç«¯æŠ€æœ¯æ ˆ
- **React 19.1.0**: UI æ¡†æ¶
- **Vite**: æ„å»ºå·¥å…·
- **React Icons**: å›¾æ ‡åº“
- **ESLint**: ä»£ç æ£€æŸ¥

### æ ¸å¿ƒç‰¹æ€§
- ğŸ” **JWT èº«ä»½è®¤è¯**: å®‰å…¨çš„ç”¨æˆ·è®¤è¯æœºåˆ¶
- ğŸ“ˆ **å®æ—¶ç›‘æ§**: é›†ç¾¤èµ„æºå®æ—¶çŠ¶æ€ç›‘æ§
- ğŸ” **æ™ºèƒ½æœç´¢**: æ”¯æŒå¤šå­—æ®µæœç´¢å’Œè¿‡æ»¤
- ğŸ“„ **åˆ†é¡µæ”¯æŒ**: é«˜æ•ˆçš„æ•°æ®åˆ†é¡µå±•ç¤º
- ğŸ¨ **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: æ‡’åŠ è½½å’Œç¼“å­˜æœºåˆ¶
- ğŸ“Š **è¯¦æƒ…é¡µé¢**: ä¸°å¯Œçš„èµ„æºè¯¦æƒ…å±•ç¤º

## ğŸ“¦ å®‰è£…éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚
- Go 1.24.4+
- Node.js 20+
- Kubernetes é›†ç¾¤è®¿é—®æƒé™

### ä½¿ç”¨ Docker Compose éƒ¨ç½²

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/nick0323/K8sVision.git
cd K8sVision
```

2. **é…ç½® Kubernetes è®¿é—®**
```bash
# ç¡®ä¿ kubeconfig æ–‡ä»¶å­˜åœ¨
cp ~/.kube/config ~/.kube/config.backup
```

3. **å¯åŠ¨æœåŠ¡**
```bash
docker-compose up -d
```

4. **è®¿é—®åº”ç”¨**
- å‰ç«¯: http://localhost:80
- åç«¯: http://localhost:8080
- é»˜è®¤ç™»å½•: admin / 12345678

### æ‰‹åŠ¨éƒ¨ç½²

#### åç«¯éƒ¨ç½²
```bash
# æ„å»ºåç«¯
go build -o k8svision ./main.go

# è¿è¡Œåç«¯
./k8svision -config config.yaml
```

#### å‰ç«¯éƒ¨ç½²
```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ„å»º
npm run build
```

### Kubernetes éƒ¨ç½²

```bash
# éƒ¨ç½²åˆ° Kubernetes é›†ç¾¤
kubectl apply -f k8s/
```

## âš™ï¸ é…ç½®è¯´æ˜

### åç«¯é…ç½® (config.yaml)

```yaml
server:
  port: 8080
  host: "0.0.0.0"

kubernetes:
  kubeconfig: ""  # ç•™ç©ºä½¿ç”¨é»˜è®¤é…ç½®
  context: ""     # ç•™ç©ºä½¿ç”¨å½“å‰ä¸Šä¸‹æ–‡
  timeout: 30s
  qps: 100
  burst: 200

jwt:
  secret: "k8svision-secret-key"
  expiration: 24h

auth:
  username: "admin"
  password: "admin"
  maxLoginFail: 5
  lockDuration: 10m

cache:
  enabled: true
  type: "memory"
  ttl: 5m
  maxSize: 1000
```

### ç¯å¢ƒå˜é‡é…ç½®

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `KUBECONFIG` | Kubernetes é…ç½®æ–‡ä»¶è·¯å¾„ | `~/.kube/config` |
| `LOGIN_USERNAME` | ç™»å½•ç”¨æˆ·å | `admin` |
| `LOGIN_PASSWORD` | ç™»å½•å¯†ç  | `admin` |
| `GIN_MODE` | Gin è¿è¡Œæ¨¡å¼ | `release` |
| `SWAGGER_ENABLE` | å¯ç”¨ Swagger æ–‡æ¡£ | `false` |

## ğŸ”Œ API æ¥å£

### è®¤è¯æ¥å£
- `POST /api/login` - ç”¨æˆ·ç™»å½•

### èµ„æºç®¡ç†æ¥å£
- `GET /api/overview` - é›†ç¾¤æ¦‚è§ˆ
- `GET /api/namespaces` - å‘½åç©ºé—´åˆ—è¡¨
- `GET /api/nodes` - èŠ‚ç‚¹åˆ—è¡¨
- `GET /api/pods` - Pod åˆ—è¡¨
- `GET /api/deployments` - Deployment åˆ—è¡¨
- `GET /api/services` - Service åˆ—è¡¨
- `GET /api/events` - äº‹ä»¶åˆ—è¡¨
- æ›´å¤šæ¥å£è¯·å‚è€ƒ Swagger æ–‡æ¡£

### é€šç”¨æŸ¥è¯¢å‚æ•°
- `namespace`: å‘½åç©ºé—´è¿‡æ»¤
- `limit`: æ¯é¡µæ•°é‡ (é»˜è®¤: 20)
- `offset`: åç§»é‡ (é»˜è®¤: 0)
- `search`: æœç´¢å…³é”®è¯

## ğŸ¨ ç•Œé¢é¢„è§ˆ

### ä¸»è¦åŠŸèƒ½
- ğŸ“Š **é›†ç¾¤æ¦‚è§ˆ**: å®æ—¶æ˜¾ç¤ºé›†ç¾¤æ•´ä½“çŠ¶æ€
- ğŸ“‹ **èµ„æºåˆ—è¡¨**: åˆ†é¡µå±•ç¤ºå„ç±» Kubernetes èµ„æº
- ğŸ” **æ™ºèƒ½æœç´¢**: æ”¯æŒå¤šå­—æ®µæ¨¡ç³Šæœç´¢
- ğŸ“„ **è¯¦æƒ…æŸ¥çœ‹**: ç‚¹å‡»èµ„æºæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
- ğŸ›ï¸ **å‘½åç©ºé—´åˆ‡æ¢**: å¿«é€Ÿåˆ‡æ¢ä¸åŒå‘½åç©ºé—´
- ğŸ”„ **å®æ—¶åˆ·æ–°**: è‡ªåŠ¨æˆ–æ‰‹åŠ¨åˆ·æ–°æ•°æ®

### å“åº”å¼è®¾è®¡
- ğŸ’» æ¡Œé¢ç«¯: å®Œæ•´åŠŸèƒ½å±•ç¤º
- ğŸ“± ç§»åŠ¨ç«¯: é€‚é…å°å±å¹•æ“ä½œ
- ğŸ¨ ç°ä»£åŒ– UI: æ¸…æ™°çš„ä¿¡æ¯å±‚æ¬¡

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
K8sVision/
â”œâ”€â”€ api/                 # API æ¥å£å±‚
â”œâ”€â”€ cache/              # ç¼“å­˜ç®¡ç†
â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”œâ”€â”€ frontend/           # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/ # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/      # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ utils/      # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ constants/  # å¸¸é‡é…ç½®
â”‚   â””â”€â”€ dist/           # æ„å»ºäº§ç‰©
â”œâ”€â”€ k8s/                # Kubernetes éƒ¨ç½²æ–‡ä»¶
â”œâ”€â”€ model/              # æ•°æ®æ¨¡å‹
â”œâ”€â”€ monitor/            # ç›‘æ§æ¨¡å—
â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ main.go             # ä¸»ç¨‹åºå…¥å£
â””â”€â”€ config.yaml         # é…ç½®æ–‡ä»¶
```

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# åç«¯å¼€å‘
go mod download
go run main.go

# å‰ç«¯å¼€å‘
cd frontend
npm install
npm run dev
```

### ä»£ç è§„èŒƒ
- åç«¯: éµå¾ª Go å®˜æ–¹ä»£ç è§„èŒƒ
- å‰ç«¯: ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- æäº¤: ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯

## ğŸ§ª æµ‹è¯•

### åç«¯æµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./...

# è¿è¡Œç‰¹å®šåŒ…æµ‹è¯•
go test ./api/middleware
```

### å‰ç«¯æµ‹è¯•
```bash
cd frontend
npm run lint
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### åç«¯ä¼˜åŒ–
- ğŸš€ **ç¼“å­˜æœºåˆ¶**: å†…å­˜ç¼“å­˜å‡å°‘ API è°ƒç”¨
- âš¡ **å¹¶å‘æ§åˆ¶**: é™åˆ¶å¹¶å‘è¯·æ±‚æ•°é‡
- ğŸ“Š **ç›‘æ§æŒ‡æ ‡**: å®æ—¶æ€§èƒ½ç›‘æ§

### å‰ç«¯ä¼˜åŒ–
- ğŸ”„ **æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½é¡µé¢ç»„ä»¶
- ğŸ’¾ **æ•°æ®ç¼“å­˜**: å‡å°‘é‡å¤ API è¯·æ±‚
- ğŸ¯ **è™šæ‹Ÿæ»šåŠ¨**: å¤„ç†å¤§é‡æ•°æ®å±•ç¤º

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- ğŸ” **JWT è®¤è¯**: å®‰å…¨çš„ç”¨æˆ·èº«ä»½éªŒè¯
- ğŸš« **ç™»å½•é™åˆ¶**: é˜²æ­¢æš´åŠ›ç ´è§£
- ğŸ”’ **HTTPS æ”¯æŒ**: åŠ å¯†æ•°æ®ä¼ è¾“
- ğŸ›¡ï¸ **è¾“å…¥éªŒè¯**: é˜²æ­¢æ³¨å…¥æ”»å‡»

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ— æ³•è¿æ¥ Kubernetes é›†ç¾¤**
   - æ£€æŸ¥ kubeconfig æ–‡ä»¶è·¯å¾„
   - ç¡®è®¤é›†ç¾¤è®¿é—®æƒé™
   - éªŒè¯ç½‘ç»œè¿æ¥

2. **ç™»å½•å¤±è´¥**
   - æ£€æŸ¥ç”¨æˆ·åå¯†ç é…ç½®
   - ç¡®è®¤ JWT å¯†é’¥è®¾ç½®
   - æŸ¥çœ‹åç«¯æ—¥å¿—

3. **å‰ç«¯æ— æ³•è®¿é—®åç«¯**
   - æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
   - ç¡®è®¤ç«¯å£é…ç½®
   - éªŒè¯ CORS è®¾ç½®

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
docker logs vision-backend

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
docker logs vision-frontend
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache 2.0 è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Kubernetes](https://kubernetes.io/) - å®¹å™¨ç¼–æ’å¹³å°
- [Gin](https://gin-gonic.com/) - Go Web æ¡†æ¶
- [React](https://reactjs.org/) - å‰ç«¯æ¡†æ¶
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®é“¾æ¥: [https://github.com/nick0323/K8sVision](https://github.com/nick0323/K8sVision)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/nick0323/K8sVision/issues)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
