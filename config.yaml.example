# K8sVision 配置文件示例
# 复制此文件为 config.yaml 并根据需要修改

# 服务器配置
server:
  port: "8080"
  host: "0.0.0.0"
  readTimeout: 30s
  writeTimeout: 30s
  idleTimeout: 120s

# JWT 配置
jwt:
  secret: "your-jwt-secret-key-change-this-in-production"
  expires: 24h

# 认证配置
auth:
  username: "admin"
  password: "$2a$10$your-hashed-password-here"  # 使用 bcrypt 哈希
  maxLoginFail: 5
  lockDuration: 15m

# 日志配置
log:
  level: "info"
  format: "json"
  output: "stdout"

# 缓存配置
cache:
  type: "memory"
  ttl: 300s
  maxSize: 1000
  cleanupInterval: 60s

# Kubernetes 配置
kubernetes:
  kubeconfig: ""  # 空值使用默认 kubeconfig
  qps: 50
  burst: 100
  timeout: 30s
  insecure: false

# 监控配置
monitor:
  enabled: true
  metrics:
    enabled: true
    path: "/metrics"
  tracing:
    enabled: false
    jaeger:
      endpoint: "http://jaeger:14268/api/traces"
  business:
    enabled: true
    collectors:
      - "k8s-resource"
      - "api-call"
      - "system"

# 安全配置
security:
  cors:
    enabled: true
    origins: ["*"]
    methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
    headers: ["Content-Type", "Authorization"]
  rateLimit:
    enabled: true
    requests: 100
    window: "1m"
  headers:
    enabled: true
    hsts: true
    xss: true
    contentType: true
    frameOptions: "DENY"
